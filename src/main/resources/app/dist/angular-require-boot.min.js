/*! angular-require-boot 05-11-2015 */
!function(){"use strict";angular.module("myApp.bootstrap",["ui.router","myApp.constants","myApp.functions","myApp.version","myApp.newEmplForm","myApp.searchEmplForm"]).config(["NAV","$stateProvider","$urlRouterProvider",function(a,b,c){b.state(a.NEW_EMP.PAGE,{url:"/",views:{"":{templateUrl:"html/home/home.html"},"nav-menu@home":{templateUrl:"html/nav/menu.html",controllerAs:"tabC",controller:"TabController"},"body@home":{templateUrl:"html/forms/empl/new/newEmplForm.html",controllerAs:"nefC",controller:"NewEmplCtrl"}}}).state(a.LIST_EMP.PAGE,{url:"/list-employees",views:{"body@home":{templateUrl:"html/forms/empl/search/searchAndUpdateEmplForm.html",controllerAs:"srchC",controller:"searchEmplCtrl"}}}).state(a.SCOPE,{url:"/scopes",views:{"body@home":{templateUrl:"html/scope/scope.html",controller:"scopeCtrl"}}}).state(a.PROMISES,{url:"/promises",views:{"body@home":{templateUrl:"html/promises/story.html",controllerAs:"storyC",controller:"storyCtrl"}}}),c.otherwise("/")}]).controller("TabController",["NAV","$scope","$state",function(a,b,c){var d=this;d.tabs=[{route:"",title:"Forms",dropdown:[{route:a.NEW_EMP.ID,title:"NewForm"},{route:a.LIST_EMP.SEARCH.PAGE,title:"SearchForm"}]},{route:a.SCOPE,title:"Scope"},{route:a.PROMISES,title:"Promises"}],d.go=function(a){a&&c.go(a)},d.active=function(a){return c.is(a)}}])}(),function(){"use strict";angular.module("myApp.version",[]).directive("appVer",["version",function(a){return function(b,c,d){c.text(a)}}]).filter("interpolated",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]).filter("capitalize",[function(){return function(a){return a?String(a).toUpperCase():" "}}]).value("version","0.6")}(),function(){"use strict";angular.module("myApp.newEmplForm",["myApp.constants","ngResource","ui.router"]).config(["NAV","$stateProvider","$urlRouterProvider",function(a,b,c){b.state(a.NEW_EMP.ID,{url:"/idForm",templateUrl:"html/forms/empl/new/idForm.html"}).state(a.NEW_EMP.PROFILE,{url:"/profileForm",templateUrl:"html/forms/empl/new/profileForm.html"}),c.otherwise("/")}]).controller("NewEmplCtrl",["NAV","$state","empService",function(a,b,c){var d=this;d.master=d.master||{},d.message="",d.next=function(a){angular.extend(d.master,a)},d.save=function(e){angular.extend(e,d.master),c.save(e).$promise.then(function(a){d.message="Employee signed up: "+a.id},function(a){console.log(a),d.message="There is an error signing up employee. Please contact customer support."})["finally"](function(){d.reset(),b.go(a.NEW_EMP.ID)})},d.search=function(a){d.emps=[],c.get({id:a}).$promise.then(function(a){d.emps.push(a)})},d.reset=function(){d.emp=d.master={}}}]).service("empService",["$resource",function(a){return a("/emp/:id",{id:"@_id"},{update:{method:"PUT"}})}]).directive("empAvail",["empService",function(a){return{require:"ngModel",link:function(b,c,d,e){e.$asyncValidators.empAvail=function(b,c){return e.$isEmpty(c)?!0:a.get({id:c}).$promise.then(function(a){a.id===c?e.$setValidity("id",!1):e.$setValidity("id",!0)})}}}}])}(),function(){"use strict";angular.module("myApp.searchEmplForm",["myApp.constants","ui.router","ngResource","angularUtils.directives.dirPagination"]).config(["NAV","$stateProvider","$urlRouterProvider",function(a,b,c){var d={};d[""]={templateUrl:"html/forms/empl/search/searchEmplForm.html"},d[a.LIST_EMP.SEARCH.CRITERIA]={templateUrl:"html/forms/empl/search/search-criteria.html"},d[a.LIST_EMP.SEARCH.RESULTS]={templateUrl:"html/forms/empl/search/search-results.html"},d[a.LIST_EMP.SEARCH.FOOTER]={templateUrl:"html/forms/empl/search/search-footer.html"},b.state(a.LIST_EMP.SEARCH.PAGE,{views:d}).state(a.LIST_EMP.UPDATE,{url:"/updateForm",templateUrl:"html/forms/empl/update/updateEmplForm.html"}),c.otherwise("/")}]).controller("searchEmplCtrl",["$state","srchFormService",function(a,b){var c=this;c.emps=[],c.selectedEmp={},c.view2b=c.view2b||{},c.itemsPerPage=b.getItemsPerPage(),c.predicate=b.getPredicate(),c.reverse=b.getReverse(),c.setSelectedEmployee=function(){c.selectedEmp=b.setSelectedEmployee()},c.order=function(a){b.order(a),c.predicate=b.getPredicate(),c.reverse=b.getReverse()},c.setItemsPerPage=function(a){b.setItemsPerPage(a),c.itemsPerPage=a},c.search=function(a){c.emps=b.search(a)},c.updateEmployee=function(){c.emps=b.updateEmployee()},c.removeEmployee=function(){c.emps=b.removeEmployee()},c.download=b.download,c.reset=b.reset}]).directive("editableField",function(){var a=this||{};return a.link=function(a,b,c,d){var e;d.edit=function(){d.editMode=!0,e=d.model,b.find("input")[0].focus()},d.save=function(){d.editMode=!1,a.$watch(angular.bind(d,function(){return d.model}),function(a,b){return a===b?void console.log("model first time"+a):void console.log("model updated")})},d.cancel=function(){d.editMode=!1,d.model=e}},{scope:{},controllerAs:"editCtrl",controller:function(){},bindToController:{model:"=editableField"},transclude:!0,link:a.link,templateUrl:"../../html/templates/inline-edit.html"}}).service("deptService",["$resource",function(a){return a("/dept/:dept",{dept:"@_dept"},{update:{method:"POST"}})}]).service("srchFormService",["$state","deptService",function(a,b){var c=this;c.master={},c.itemsPerPage=5,c.emps=[],c.selectedEmp={},c.view2b=c.view2b||{},c.predicate="salary",c.reverse=!0,c.setItemsPerPage=function(a){c.itemsPerPage=a},c.setSelectedEmployee=function(){return angular.forEach(c.emps,function(a){a.selected===!0&&(c.selectedEmp=a)}),c.selectedEmp},c.getItemsPerPage=function(){return c.itemsPerPage},c.getPredicate=function(){return c.predicate},c.getReverse=function(){return c.reverse},c.search=function(a){return c.emps=[],a&&b.query({dept:a}).$promise.then(function(a){a&&angular.forEach(a,function(a){a.selected=!1,c.emps.push(a)})}),c.emps},c.updateEmployee=function(){b.update({dept:c.selectedEmp}).$promise.then(function(a){c.view2b.message="Employee updated: "+a.id},function(a){console.log(a),c.view2b.message="There is an error updating employee. Please contact customer support."})["finally"](function(){c.reset(),a.go("main.view2b")})},c.removeEmployee=function(){var a=[];return angular.forEach(c.emps,function(b){b.selected===!1&&a.push(b)}),c.emps=a,c.emps},c.order=function(a){c.reverse=c.predicate===a?!c.reverse:!1,c.predicate=a},c.download=function(){var a=["EMP_ID, EMP_NAME, EMP_SALARY, EMP_DEPT\r\n"];angular.forEach(c.emps,function(b){var c=b.id+",";c=c+b.name+",",c=c+b.salary+",",c=c+b.department.name+"\r\n",a.push(c)});var b=angular.element("<a/>");b.attr({href:"data:attachment/csv;charset=utf-8,"+encodeURI(a),target:"_blank",download:"employees.csv"})[0].click()},c.reset=function(){c.emps=[],c.selectedEmp={}}}])}(),function(){"use strict";angular.module("myApp.constants",[]).constant("NAV",{SCOPE:"home.scope",NEW_EMP:{PAGE:"home",ID:"home.id",PROFILE:"home.profile"},LIST_EMP:{PAGE:"home.list_emp",SEARCH:{PAGE:"home.list_emp.search",CRITERIA:"criteria@home.list_emp.search",RESULTS:"results@home.list_emp.search",FOOTER:"footer@home.list_emp.search"},UPDATE:"home.list_emp.update"},PROMISES:"home.promises"})}(),function(){"use strict";angular.module("myApp.functions",[]).run(["$rootScope",function(a){a.doubleVal=function(a){return a?2*a:0}}]).provider("httpInterceptorProvider",["$httpProvider",function(a){a.interceptors.push(["$q",function(a){return{request:function(a){return console.log("http request sent.."),a},requestError:function(b){return console.log("http request rejected..."+b),a.reject(b)},response:function(a){return console.log("http response received..."),a},responseError:function(b){return console.log("http response rejected..."+b),a.reject(b)}}}]),this.$get=function(){return a}}]).factory("responseErrorRecovery",["$q","$injector",function(a,b){var c=0,d={responseError:function(d){if(0===c){c+=1;var e=b.get("$http");return e(d.config)}return console.log("Retried maximum number of times:"+c),a.reject(d)}};return d}]).provider("responseRecovery",["$httpProvider",function(a){a.interceptors.push("responseErrorRecovery"),this.$get=function(){return a}}]).controller("responseRecoveryController",["$http",function(a){return a.get("static/weather_report.json").then(function(a){return console.log("response recovered"),a}),function(a){return console.log("response recovery failed"),a}}]).service("familyService",["$http","$cacheFactory","$q",function(a,b,c){var d=this,e="static/family.json",f=b("familyCache");d.getFamily=function(){var b=f.get("familyData");return c(function(c,d){b?c(b):a.get(e).then(function(a){"object"==typeof a.data?(f.put("familyData",a.data),c(a.data)):d("Not an object")},function(a){d(a)})})}}]).service("mapDataService",["$http","$cacheFactory","$q",function(a,b,c){var d=this,e="static/USA.geo.json",f=b("mapCache");d.getDataForUSAMap=function(){var b=f.get("dataForUSAMap");return c(function(c,d){b?c(b):a.get(e).then(function(a){"object"==typeof a.data?(f.put("dataForUSAMap",a.data),c(a.data)):d("Not an object")},function(a){d(a)})})}}]).factory("friendsFactory",["$http","$cacheFactory","$q","$timeout",function(a,b,c,d){var e="static/friends.json",f=b("friendsCache");return{getFriends:function(){var b=f.get("friends");return c(function(c,d){b?c(b):a.get(e).then(function(a){"object"==typeof a.data?(f.put("friends",a.data),c(a.data)):d("Not an object")},function(a){d(a.data)})})}}}]).service("weatherService",["$http","$q","$timeout","$cacheFactory",function(a,b,c,d){var e=this,f="static/weather_report.json",g=d("weatherReportCache");e.getWeather=function(){var d=g.get("weatherReport");return b(function(b,e){d?b(d):c(function(){a.get(f).then(function(a){a?(g.put("weatherReport",a.data),b(a.data)):e("Not an object")},function(a){e(a)})},250)})}}])}(),function(){"use strict";angular.module("myApp.bootstrap").service("storyService",["$q","$http","$timeout","http_defaults",function(a,b,c,d){var e=this,f=[];e.getText=function(c){return angular.forEach(c,function(a){var c=b({url:"static/story/"+a+".json",method:"GET",timeout:5e3},d);f.push(c)}),a.all(f)}}]).service("storyServiceUsingMap",["$q","$http","$timeout",function(a,b,c){var d=this;d.getText=function(c){var d=c.map(function(a){return b({url:"static/story/"+a+".json",method:"GET",timeout:5e3})});return a.all(d)}}]).controller("storyCtrl",["storyService","storyServiceUsingMap",function(a,b){var c=this;c.chapters=[];var d=["chapter-1","chapter-2","chapter-3"];a.getText(d).then(function(a){c.chapters.push(a[0].data),c.chapters.push(a[1].data),c.chapters.push(a[2].data)});var e=["chapter-4","chapter-5"];b.getText(e).then(function(a){c.chapters.push(a[0].data),c.chapters.push(a[1].data)})}]).value("http_defaults",{timeout:2e3})}(),function(){"use strict";angular.module("myApp.bootstrap").controller("scopeCtrl",["$scope",function(a){a.callHome=function(a){alert(a)},a.ctrlFlavor="blackberry"}]).directive("phone",function(){return{scope:{dial:"&"},template:'<input type="text" ng-model="value"><input type="button" value="Call home!" ng-click="dial({sendmsg:value})">'}}).directive("drink",function(){return{scope:{flavor:"@"},template:"<div>{{flavor}}</div>"}}).directive("drinkCtrlFlavor",function(){return{scope:{flavor:"="},template:'<input type="text" ng-model="flavor">'}}).directive("clock",function(){return{scope:{timezone:"@"},template:"<div>12:00pm {{timezone}}</div>"}}).directive("panel",function(){return{restrict:"E",transclude:!0,scope:{title:"@"},template:'<div style="border: 3px solid #000000"><div class="alert-box">{{title}}</div><div ng-transclude></div></div>'}}).directive("tasksWithTransclude",function(){return{restrict:"E",transclude:!0,scope:{tasks:"="},controller:function(a){a.addTask=function(){a.tasks||(a.tasks=[]),a.tasks.push({title1:a.title})}},template:'<div><input type="text" ng-model="title"><button ng-click="addTask()">Add Task</button><div><ng-transclude></ng-transclude></div></div></div>'}}).directive("contenteditable",function(){return{require:"ngModel",link:function(a,b,c,d){b.on("blur",function(){d.$setViewValue(b.html())}),d.$render=function(){b.html(d.$viewValue)},d.$setViewValue(b.html())}}})}(),function(){"use strict"}(),function(){"use strict";angular.module("myApp",["ui.router","myApp.bootstrap"]).config(["$urlRouterProvider",function(a){a.otherwise("/")}])}();